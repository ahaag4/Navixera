<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel</title>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>
  <h1>Admin Panel</h1>

  <h2>Add Product</h2>
  <form id="addProductForm">
    <input type="text" id="pname" placeholder="Product Name" required><br>
    <input type="number" id="pprice" placeholder="Price" required><br>
    <button type="submit">Add Product</button>
  </form>

  <h2>Orders</h2>
  <div id="orders"></div>

  <script>
    var firebaseConfig = {
      apiKey: "AIzaSyCn9YSO4-ksWl6JBqIcEEuLx2EJN8jMj4M",
  authDomain: "svms-c0232.firebaseapp.com",
  databaseURL: "https://svms-c0232-default-rtdb.firebaseio.com",
  projectId: "svms-c0232",
  storageBucket: "svms-c0232.appspot.com",
  messagingSenderId: "359201898609",
  appId: "1:359201898609:web:893ef076207abb06471bd0"
    };
    firebase.initializeApp(firebaseConfig);
    let db = firebase.database();

    // Add product
    document.getElementById("addProductForm").addEventListener("submit", function(e){
      e.preventDefault();
      let product = {
        name: document.getElementById("pname").value,
        price: document.getElementById("pprice").value
      };
      let newKey = db.ref("products").push().key;
      db.ref("products/" + newKey).set(product);
      alert("Product added!");
    });

    // Show orders
    db.ref("orders").on("value", snapshot => {
      let data = snapshot.val();
      let ordersDiv = document.getElementById("orders");
      ordersDiv.innerHTML = "";
      for (let id in data) {
        let o = data[id];
        ordersDiv.innerHTML += `
          <div>
            <b>${o.productName}</b> - â‚¹${o.price}<br>
            Customer: ${o.email}<br>
            Address: ${o.address}, ${o.state}, ${o.country}<br>
            Status: ${o.status}
            <hr>
          </div>
        `;
      }
    });
  </script>
</body>
</html>
